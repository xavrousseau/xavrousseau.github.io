/* ============================================================================
   app.css — Thème sombre, net, lisible (Hyperspace-like)
   Sommaire
     0) Reset & Base                 10) Contact (form + layout robuste)
     1) Tokens (Design System)       11) Tables
     2) Typo                         12) Footer
     3) Layout & Wrappers            13) Utilitaires
     4) Sidebar (desktop)            14) Animations
     5) Hero (intro)                 15) Accessibilité
     6) Boutons (CTA)                16) Responsive container / layouts
     7) Spotlights — À propos        17) Menu mobile (topbar fluide, non-sticky)
     8) Cartes / Grilles             18) CTA du hero — compacts + .button--sm
     9) Boxes (Expériences, etc.)
============================================================================ */

/* ===== 0) RESET & BASE ===== */
*, *::before, *::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; }
body{
  /* Échelle “douce” : ~15px desktop → ~13px mobile, par paliers */
  font-size: 15px;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
               "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
               "Segoe UI Emoji", "Segoe UI Symbol";
  background: #0f172a;
  color: rgba(241,245,249,.92);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
@media (max-width:1680px){ body{ font-size:14.5px; } }
@media (max-width:1280px){ body{ font-size:14px; } }
@media (max-width:980px) { body{ font-size:13.5px; } }
@media (max-width:736px) { body{ font-size:13px; } }
@media (max-width:480px) { body{ font-size:12.5px; } }

img{ max-width:100%; height:auto; display:block; }
a{
  color:#60a5fa;
  text-decoration:none;
  text-decoration-thickness:.06em;
  text-underline-offset:.18em;
}
a:hover{ text-decoration:underline; }

/* ===== 1) TOKENS (Design System) ===== */
:root{
  /* Couleurs */
  --bg:#0f172a;         /* page */
  --bg-elev:#111827;    /* éléments “élevés” */
  --panel:#0b1220;      /* cartes/panneaux */
  --muted:rgba(241,245,249,.7);
  --text:rgba(241,245,249,.92);
  --text-dim:rgba(241,245,249,.85);
  --brand:#2563eb;      /* bleu principal */
  --brand-2:#06b6d4;    /* cyan accent */
  --accent:#22c55e;     /* succès */
  --danger:#ef4444;     /* erreur */
  --border:rgba(148,163,184,.25);

  /* Effets */
  --shadow-1:0 6px 24px rgba(0,0,0,.25), 0 2px 8px rgba(0,0,0,.15);
  --ring:0 0 0 2px #0b1220, 0 0 0 4px rgba(99,102,241,.5);
  --focus-ring:0 0 0 2px #0b1220, 0 0 0 4px rgba(34,211,238,.6);

  /* Layout */
  --container:1120px;
  --radius:18px;
  --radius-lg:24px;
  --radius-xl:28px;
  --pad:clamp(16px,2vw,28px);
  --gap:clamp(16px,2.2vw,28px);
  --section-y:clamp(52px,8vw,120px);

  /* Typo (clamps modérés : évite les titres géants) */
  --fs-xs:.82rem;
  --fs-sm:.94rem;
  --fs-base:1rem;
  --fs-lead:clamp(0.98rem, 0.9vw + 0.84rem, 1.18rem);
  --fs-h3:clamp(1.02rem, 1vw + 0.90rem, 1.28rem);
  --fs-h2:clamp(1.20rem, 1.6vw + 0.90rem, 1.80rem);
  --fs-h1:clamp(1.70rem, 3.5vw + 0.60rem, 2.60rem);
}

/* ===== 2) TYPO ===== */
h1, h2, h3, h4{
  color: var(--text);
  line-height: 1.25;
  margin: 0 0 .6em;
  font-weight: 800;
}
h1{ font-size:var(--fs-h1); letter-spacing:.01em; }
h2{ font-size:var(--fs-h2); letter-spacing:.01em; }
h3{ font-size:var(--fs-h3); letter-spacing:.005em; }
p{ margin: 0 0 1.1em; }
.lead{ font-size: var(--fs-lead); color: var(--text-dim); }
.muted{ color: var(--muted); }
.sr-only{
  position:absolute; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* ===== 3) LAYOUT & WRAPPERS ===== */
.wrapper{ padding: var(--section-y) var(--pad); }
.wrapper .inner{
  max-width: var(--container);
  margin: 0 auto;
  min-width: 0; /* anti-overflow dans les grilles */
}
#wrapper{ position:relative; }

.wrapper.style1{ background: transparent; }
.wrapper.style2{
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 40%),
    var(--bg);
}
.wrapper.style3{
  background: linear-gradient(180deg, rgba(37,99,235,.08), rgba(37,99,235,0) 45%);
}
.wrapper.style1-alt{ background:#0b1220; }

/* ===== 4) SIDEBAR (desktop) ===== */
#sidebar{
  position: fixed; left: 0; top: 0;
  width: 280px; height: 100vh;
  background: rgba(2,6,23,.4); backdrop-filter: blur(8px);
  border-right: 1px solid var(--border);
  padding: 22px 18px; display: none; z-index: 50;
}
#sidebar .inner{ height: 100%; display: flex; align-items: center; min-width:0; }
#sidebar nav ul{ list-style: none; margin: 0; padding: 0; }
#sidebar nav a{
  display: block; padding: .55rem 0; color: var(--text); font-weight: 600;
  letter-spacing: .01em; opacity: .9;
}
#sidebar nav a:hover{ opacity: 1; }
#sidebar nav a.active, #sidebar nav a[aria-current="true"]{
  color: #e5edff; text-decoration: none; position: relative;
}
#sidebar nav a.active::after{
  content:""; position:absolute; right:-12px; top:50%; transform:translateY(-50%);
  width:6px; height:6px; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  box-shadow:0 0 0 6px rgba(59,130,246,.18);
}
@media (min-width:1080px){
  #sidebar{ display:block; }
  #wrapper, #footer{ margin-left:280px; } /* évite le chevauchement */
}

/* ===== 5) HERO ===== */
.hero{ position:relative; }
.fullscreen{ min-height:100svh; display:grid; place-items:center; }
.hero-inner{
  display:grid; grid-template-columns:1.1fr .9fr; align-items:center;
  gap:clamp(28px,4vw,48px);
}
.hero-col--text{ display:grid; gap:1rem; min-width:0; }
.hero-title{ font-size:var(--fs-h1); }
.hero-role{ font-weight:700; opacity:.95; }
.hero-value{ font-size:var(--fs-lead); opacity:.95; }
.hl{ color:#e0eaff; text-shadow:0 0 18px rgba(59,130,246,.25); }

.hero-status{
  display:flex; gap:.9rem 1.2rem; flex-wrap:wrap; margin:.4rem 0 .2rem;
  list-style:none; padding:0; color:var(--muted);
}
.status-ico{ margin-right:.4rem; }

.hero-bullets{ list-style:none; padding:0; display:grid; gap:.9rem; margin:.4rem 0 0; }
.hero-actions{ display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.4rem; }

.hero-col--visual{ position:relative; display:grid; place-items:center; min-width:0; }
.portrait{
  width:min(420px,90%); aspect-ratio:1; border-radius:28px; overflow:hidden;
  box-shadow:var(--shadow-1); background:#0b1220; border:1px solid var(--border);
}
.portrait img{ width:100%; height:100%; object-fit:cover; display:block; }
.hero-blob{
  position:absolute; inset:-8%; z-index:-1;
  background:radial-gradient(40% 40% at 50% 50%, rgba(37,99,235,.35), rgba(6,182,212,.08) 60%, transparent 70%);
  filter: blur(28px);
}
@media (max-width:1100px){
  .hero-inner{ grid-template-columns:1fr; }
  .hero-col--visual{ order:-1; }
}

/* ===== 6) BOUTONS ===== */
.button, button, input[type="submit"], input[type="reset"], input[type="button"]{
  -webkit-appearance:none; appearance:none;
  display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
  min-height:50px; padding:0 1.15rem; border-radius:14px;
  border:1px solid var(--border); background:#0b1220; color:var(--text);
  font-weight:700; letter-spacing:.01em; cursor:pointer;
  transition:transform .06s ease, filter .2s ease, background .2s ease, border-color .2s ease;
}
.button:hover{ transform:translateY(-1px); }
.button:active{ transform:translateY(0); }
.button:focus-visible{ box-shadow:var(--focus-ring); outline:0; }
.button.primary{
  border:0; background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  filter:saturate(1.05) contrast(1.05);
}
.button.primary:hover{ filter:saturate(1.1) contrast(1.1) brightness(1.05); }
.button.outline{ background:transparent; border-color:rgba(96,165,250,.6); color:#dbeafe; }
.button.ghost{ background:rgba(255,255,255,.06); color:#e5edff; }
.cta-lg{ font-size:clamp(0.95rem, 1vw, 1.05rem); }

/* ===== 7) SPOTLIGHTS — À PROPOS ===== */
.spotlights.about > section{
  display:flex; align-items:stretch;
  min-height:clamp(380px,56vh,680px);
  padding:0; background:none; border:0; box-shadow:none; border-radius:0;
  gap:clamp(24px,3vw,40px);
}
.spotlights.about > section > .image{
  flex:0 0 clamp(280px, 30vw, 420px);
  position:relative; overflow:hidden;
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  box-shadow:var(--shadow-1);
  min-width:0;
}
.spotlights.about > section > .image img{
  width:100%; height:100%; object-fit:cover; display:block;
}
.spotlights.about > section > .content{
  flex:1; display:flex; align-items:center; padding:clamp(28px,4vw,56px) 0;
  min-width:0;
}
.spotlights.about > section > .content > .inner{
  max-width:74ch; line-height:1.72;
}
@media (max-width:980px){
  .spotlights.about > section{ display:block; min-height:0; }
  .spotlights.about > section > .image{
    width:100%;
    height:clamp(220px,42vh,380px);
    margin:0 0 clamp(18px,3vw,28px) 0;
  }
  .spotlights.about > section > .content{ padding:0; }
}

/* ===== 8) CARTES / GRILLES ===== */
.value-inner{ max-width:var(--container); margin:0 auto; }
.value-header{ text-align:left; margin-bottom:1.3rem; }
.value-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr)); /* minmax(0,1fr) = anti-overflow */
  gap:var(--gap);
}
.card{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:calc(var(--pad) * .9); box-shadow:var(--shadow-1);
  transition:transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 30px rgba(0,0,0,.28), 0 4px 12px rgba(0,0,0,.18);
  border-color:rgba(96,165,250,.45);
}
.card .card-head{ display:flex; align-items:center; gap:.6rem; margin-bottom:.6rem; }
.icon-badge{
  width:36px; height:36px; border-radius:12px; display:grid; place-items:center;
  background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  box-shadow:var(--shadow-1);
}
.status{ color:var(--muted); margin:.4rem 0 .2rem; }

@media (max-width:1080px){
  .value-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); }
}
@media (max-width:720px){
  .value-grid{ grid-template-columns:1fr; }
}

/* ===== 9) BOXES (Expériences, Éducation…) ===== */
.box{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:clamp(16px,2.2vw,24px); box-shadow:var(--shadow-1); margin: 0 0 var(--gap);
}
.box header{ display:flex; flex-wrap:wrap; align-items:baseline; justify-content:space-between; gap:.4rem 1rem; }
.box h3{ margin:0; }
.box p.muted{ margin-top:.4rem; }

/* ===== 10) CONTACT (form + layout robuste) ===== */
.split.style1{
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap: var(--gap);
}
@media (max-width:980px){
  .split.style1{ grid-template-columns: 1fr; }
}

/* Grille du formulaire (hyperspace-like, mais stable) */
.fields{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: clamp(10px, 1.8vw, 16px);
}
.field{ display:flex; flex-direction:column; gap:.4rem; }
.field.half{ grid-column: span 1; }
.field.full{ grid-column: 1 / -1; }
@media (max-width:720px){
  .fields{ grid-template-columns: 1fr; } /* évite le débordement en mobile */
  .field.half{ grid-column: 1 / -1; }
}

label{ font-weight:700; color:var(--text); }
input[type="text"], input[type="email"], textarea{
  width:100%; border-radius:12px; border:1px solid var(--border);
  background:#0b1220; color:var(--text);
  padding:.85rem 1rem; transition:border-color .15s ease, box-shadow .15s ease;
}
textarea{ resize: vertical; min-height: 160px; }
input:focus, textarea:focus{ outline:0; box-shadow:var(--focus-ring); border-color:transparent; }

/* Actions du form */
.actions{ list-style:none; padding:0; margin:1rem 0 0; display:flex; gap:.6rem; flex-wrap:wrap; }

/* ===== 11) TABLES ===== */
table{ width:100%; border-collapse: collapse; background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden; }
thead th{ text-align:left; font-weight:800; color:#e5edff; background:#0e1526; }
th, td{ padding:.75rem 1rem; border-bottom:1px solid var(--border); }
tbody tr:hover{ background:rgba(255,255,255,.03); }

/* ===== 12) FOOTER ===== */
#footer{ border-top:1px solid var(--border); }
#footer .menu{
  list-style:none; padding:0; margin:0; display:flex; flex-wrap:wrap; gap:.8rem 1.2rem; justify-content:center;
}
#footer .menu a{ color:#a7c3ff; }

/* ===== 13) UTILITAIRES ===== */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:fixed; left:16px; top:16px; width:auto; height:auto; padding:.5rem .8rem;
  background:#111827; color:#fff; border-radius:12px; z-index:9999; box-shadow:var(--shadow-1);
}

/* Spacings rapides */
.mt-0{ margin-top:0 !important; }
.mb-0{ margin-bottom:0 !important; }

/* ===== 14) ANIMATIONS ===== */
.fade-up{ animation: fadeUp .5s ease both; }
@keyframes fadeUp{
  from{ opacity:0; transform: translateY(8px); }
  to  { opacity:1; transform: translateY(0); }
}

/* ===== 15) ACCESSIBILITÉ ===== */
:focus-visible{ outline:0; box-shadow:var(--focus-ring); }
[aria-current="true"]{ font-weight:800; }

/* ===== 16) RESPONSIVE CONTAINER / LAYOUTS ===== */
@media (min-width:1280px){
  :root{ --container: 1180px; }
}
@media (max-width:420px){
  .cta-lg{ font-size:.95rem; }
}

/* ===== 17) MENU MOBILE — Topbar fluide + panneau overlay =====
   Objectif : remplace la sidebar en ≤1080px
   - La topbar défile normalement (non-sticky).
   - Le panneau s’ouvre/ferme via JS (aria-expanded).
   - La sidebar desktop est masquée en mobile.
*/
.topbar { display: none; }
.nav-panel { display: none; }

@media (max-width:1080px){

  /* ---- TOPBAR ---- */
  .topbar{
    display:block;
    background: rgba(2,6,23,.55);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--border);
  }
  .topbar__inner{
    max-width: var(--container);
    margin: 0 auto;
    padding: .6rem var(--pad);
    display: flex; align-items: center; justify-content: space-between;
  }
  .topbar__brand{
    display: inline-flex; align-items: center; gap: .6rem;
    color: var(--text); text-decoration: none; font-weight: 800; letter-spacing: .01em;
  }
  .topbar__logo{
    width: 34px; height: 34px; border-radius: 10px;
    display: grid; place-items: center; font-weight: 900;
    background: linear-gradient(135deg,var(--brand),var(--brand-2)); color: #fff;
    box-shadow: var(--shadow-1);
  }

  .topbar__burger{
    -webkit-appearance: none; appearance: none;
    border: 1px solid var(--border);
    background: #0b1220; color: var(--text); border-radius: 12px;
    min-height: 44px; min-width: 44px; padding: 0 12px; cursor: pointer;
  }
  .topbar__burger:focus-visible{ box-shadow: var(--focus-ring); outline: 0; }

  /* Icône burger (3 barres) */
  .burger-lines{
    display: inline-block; width: 22px; height: 2px; background: #e5edff; position: relative;
  }
  .burger-lines::before, .burger-lines::after{
    content:""; position:absolute; left:0; width:22px; height:2px; background:#e5edff;
  }
  .burger-lines::before{ top:-7px; }
  .burger-lines::after{ top:7px; }

  /* Masquer la sidebar en mobile */
  #sidebar{ display: none !important; }
  #wrapper, #footer{ margin-left: 0 !important; }

  /* ---- PANNEAU ---- */
  .nav-panel{
    position: fixed; inset: 0; z-index: 70;
    background: rgba(2,6,23,.9);
    backdrop-filter: blur(10px);
    transform: translateY(-6%);
    opacity: 0;
    pointer-events: none;
    transition: transform .2s ease, opacity .2s ease;
    display: block; /* rendu mais masqué par défaut */
  }
  .nav-panel.is-open{
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }

  .nav-panel__inner{
    max-width: var(--container);
    margin: 0 auto;
    padding: clamp(18px, 3vw, 28px) var(--pad);
    display: grid; grid-template-rows: auto 1fr;
    height: 100%;
  }

  .nav-panel__close{
    justify-self: end;
    -webkit-appearance: none; appearance: none;
    border: 1px solid var(--border); background: #0b1220; color: #e5edff;
    border-radius: 12px; min-height: 44px; min-width: 44px; padding: 0 12px;
    font-size: 1.6rem; line-height: 1; cursor: pointer;
  }
  .nav-panel__close:focus-visible{ box-shadow: var(--focus-ring); outline: 0; }

  .nav-panel__list{
    list-style: none; margin: 0; padding: 0; align-self: center;
    display: grid; gap: clamp(14px, 2.4vh, 24px);
    text-align: center;
  }
  .nav-panel__list a{
    display: inline-block;
    font-weight: 800; letter-spacing: .02em;
    font-size: clamp(1.1rem, 4.5vw, 1.8rem);
    color: #e5edff; text-decoration: none;
  }
  .nav-panel__list a:focus-visible{ box-shadow: var(--focus-ring); outline: 0; }

  body.no-scroll{ overflow: hidden; }
}

/* ===== 18) CTA du hero — compacts + .button--sm ===== */
.button--sm{
  min-height: 42px; padding: 0 .9rem; border-radius: 12px;
  font-size: .95rem; font-weight: 800;
}
.actions .button--sm{ transform: translateZ(0); }

/* Petites retouches CTA intro en mobile */
@media (max-width:420px){
  .hero-actions .button{ min-height:44px; padding:0 .9rem; }
  .hero-actions{ gap:.5rem; }
}
