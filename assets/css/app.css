/* ============================================================================
   app.css — thème sombre, net, lisible (Hyperspace-like)
   Sommaire
     0) Reset & Base                 10) Contact (form + layout robuste)
     1) Tokens (Design System)       11) Tables
     2) Typo                         12) Footer
     3) Layout & Wrappers            13) Utilitaires
     4) Sidebar (desktop)            14) Animations
     5) Hero (intro)                 15) Accessibilité
     6) Boutons (CTA)                16) Responsive container
     7) Spotlights — À propos        17) Menu mobile (topbar fluide, non-sticky)
     8) Cartes / Grilles             18) CTA du hero — compacts + .button--sm
     9) Boxes
============================================================================ */

/* ===== 0) RESET & BASE ===== */
*, *::before, *::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; }
body{
  /* Échelle “douce” : ~15px desktop → ~13px mobile, par paliers */
  font-size: 15px;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto,
               "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
               "Segoe UI Emoji", "Segoe UI Symbol";
  background: #0f172a;
  color: rgba(241,245,249,.92);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
@media (max-width:1680px){ body{ font-size:14.5px; } }
@media (max-width:1280px){ body{ font-size:14px; } }
@media (max-width:980px) { body{ font-size:13.5px; } }
@media (max-width:736px) { body{ font-size:13px; } }
@media (max-width:480px) { body{ font-size:12.5px; } }

img{ max-width:100%; height:auto; display:block; }
a{
  color:#60a5fa;
  text-decoration:none;
  text-decoration-thickness:.06em;
  text-underline-offset:.18em;
}
a:hover{ text-decoration:underline; }

/* ===== 1) TOKENS (Design System) ===== */
:root{
  /* Couleurs */
  --bg:#0f172a;         /* page */
  --bg-elev:#111827;    /* éléments “élevés” */
  --panel:#0b1220;      /* cartes/panneaux */
  --muted:rgba(241,245,249,.7);
  --text:rgba(241,245,249,.92);
  --text-dim:rgba(241,245,249,.85);
  --brand:#2563eb;      /* bleu principal */
  --brand-2:#06b6d4;    /* cyan accent */
  --accent:#22c55e;     /* succès */
  --danger:#ef4444;     /* erreur */
  --border:rgba(148,163,184,.25);

  /* Effets */
  --shadow-1:0 6px 24px rgba(0,0,0,.25), 0 2px 8px rgba(0,0,0,.15);
  --ring:0 0 0 2px #0b1220, 0 0 0 4px rgba(99,102,241,.5);
  --focus-ring:0 0 0 2px #0b1220, 0 0 0 4px rgba(34,211,238,.6);

  /* Layout */
  --container:1120px;
  --radius:18px;
  --radius-lg:24px;
  --radius-xl:28px;
  --pad:clamp(16px,2vw,28px);
  --gap:clamp(16px,2.2vw,28px);
  --section-y:clamp(52px,8vw,120px);

  /* Typo (clamps modérés : évite les titres géants) */
  --fs-xs:.82rem;
  --fs-sm:.94rem;
  --fs-base:1rem;
  --fs-lead:clamp(0.98rem, 0.9vw + 0.84rem, 1.18rem);
  --fs-h3:clamp(1.02rem, 1vw + 0.90rem, 1.28rem);
  --fs-h2:clamp(1.20rem, 1.6vw + 0.90rem, 1.80rem);
  --fs-h1:clamp(1.70rem, 3.5vw + 0.60rem, 2.60rem);
}

/* ===== 2) TYPO ===== */
h1, h2, h3, h4{
  color: var(--text);
  line-height: 1.25;
  margin: 0 0 .6em;
  font-weight: 800;
}
h1{ font-size:var(--fs-h1); letter-spacing:.01em; }
h2{ font-size:var(--fs-h2); letter-spacing:.01em; }
h3{ font-size:var(--fs-h3); letter-spacing:.005em; }
p{ margin: 0 0 1.1em; }
.lead{ font-size: var(--fs-lead); color: var(--text-dim); }
.muted{ color: var(--muted); }

/* ===== 3) LAYOUT & WRAPPERS ===== */
.wrapper{ padding: var(--section-y) var(--pad); }
.wrapper .inner{
  max-width: var(--container);
  margin: 0 auto;
  min-width: 0; /* anti-overflow dans les grilles */
}
#wrapper{ position:relative; }

.wrapper.style1{ background: transparent; }
.wrapper.style2{
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 40%),
    var(--bg);
}
.wrapper.style3{
  background: linear-gradient(180deg, rgba(37,99,235,.08), rgba(37,99,235,0) 45%);
}
.wrapper.style1-alt{ background:#0b1220; }

/* ===== 4) SIDEBAR (desktop) ===== */
#sidebar{
  position: fixed; left: 0; top: 0;
  width: 280px; height: 100vh;
  background: rgba(2,6,23,.4); backdrop-filter: blur(8px);
  border-right: 1px solid var(--border);
  padding: 22px 18px; display: none; z-index: 50;
}
#sidebar .inner{ height: 100%; display: flex; align-items: center; min-width:0; }
#sidebar nav ul{ list-style: none; margin: 0; padding: 0; }
#sidebar nav a{
  display: block; padding: .55rem 0; color: var(--text); font-weight: 600;
  letter-spacing: .01em; opacity: .9;
}
#sidebar nav a:hover{ opacity: 1; }
#sidebar nav a.active, #sidebar nav a[aria-current="true"]{
  color: #e5edff; text-decoration: none; position: relative;
}
#sidebar nav a.active::after{
  content:""; position:absolute; right:-12px; top:50%; transform:translateY(-50%);
  width:6px; height:6px; border-radius:999px;
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  box-shadow:0 0 0 6px rgba(59,130,246,.18);
}
@media (min-width:1080px){
  #sidebar{ display:block; }
  #wrapper, #footer{ margin-left:280px; } /* évite le chevauchement */
}

/* ===== 5) HERO ===== */
.hero{ position:relative; }
.fullscreen{ min-height:100svh; display:grid; place-items:center; }
.hero-inner{
  display:grid; grid-template-columns:1.1fr .9fr; align-items:center;
  gap:clamp(28px,4vw,48px);
}
.hero-col--text{ display:grid; gap:1rem; min-width:0; }
.hero-title{ font-size:var(--fs-h1); }
.hero-role{ font-weight:700; opacity:.95; }
.hero-value{ font-size:var(--fs-lead); opacity:.95; }
.hl{ color:#e0eaff; text-shadow:0 0 18px rgba(59,130,246,.25); }

.hero-status{
  display:flex; gap:.9rem 1.2rem; flex-wrap:wrap; margin:.4rem 0 .2rem;
  list-style:none; padding:0; color:var(--muted);
}
.status-ico{ margin-right:.4rem; }

.hero-bullets{ list-style:none; padding:0; display:grid; gap:.9rem; margin:.4rem 0 0; }
.hero-actions{ display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.4rem; }

.hero-col--visual{ position:relative; display:grid; place-items:center; min-width:0; }
.portrait{
  width:min(420px,90%); aspect-ratio:1; border-radius:28px; overflow:hidden;
  box-shadow:var(--shadow-1); background:#0b1220; border:1px solid var(--border);
}
.portrait img{ width:100%; height:100%; object-fit:cover; display:block; }
.hero-blob{
  position:absolute; inset:-8%; z-index:-1;
  background:radial-gradient(40% 40% at 50% 50%, rgba(37,99,235,.35), rgba(6,182,212,.08) 60%, transparent 70%);
  filter: blur(28px);
}
@media (max-width:1100px){
  .hero-inner{ grid-template-columns:1fr; }
  .hero-col--visual{ order:-1; }
}

/* ===== 6) BOUTONS ===== */
.button, button, input[type="submit"], input[type="reset"], input[type="button"]{
  -webkit-appearance:none; appearance:none;
  display:inline-flex; align-items:center; justify-content:center; gap:.6rem;
  min-height:50px; padding:0 1.15rem; border-radius:14px;
  border:1px solid var(--border); background:#0b1220; color:var(--text);
  font-weight:700; letter-spacing:.01em; cursor:pointer;
  transition:transform .06s ease, filter .2s ease, background .2s ease, border-color .2s ease;
}
.button:hover{ transform:translateY(-1px); }
.button:active{ transform:translateY(0); }
.button:focus-visible{ box-shadow:var(--focus-ring); outline:0; }
.button.primary{
  border:0; background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#fff;
  filter:saturate(1.05) contrast(1.05);
}
.button.primary:hover{ filter:saturate(1.1) contrast(1.1) brightness(1.05); }
.button.outline{ background:transparent; border-color:rgba(96,165,250,.6); color:#dbeafe; }
.button.ghost{ background:rgba(255,255,255,.06); color:#e5edff; }
.cta-lg{ font-size:clamp(0.95rem, 1vw, 1.05rem); }

/* ===== 7) SPOTLIGHTS — À PROPOS ===== */
.spotlights.about > section{
  display:flex; align-items:stretch;
  min-height:clamp(380px,56vh,680px);
  padding:0; background:none; border:0; box-shadow:none; border-radius:0;
  gap:clamp(24px,3vw,40px);
}
.spotlights.about > section > .image{
  flex:0 0 clamp(280px, 30vw, 420px);
  position:relative; overflow:hidden;
  border-radius:var(--radius-lg);
  border:1px solid var(--border);
  box-shadow:var(--shadow-1);
  min-width:0;
}
.spotlights.about > section > .image img{
  width:100%; height:100%; object-fit:cover; display:block;
}
.spotlights.about > section > .content{
  flex:1; display:flex; align-items:center; padding:clamp(28px,4vw,56px) 0;
  min-width:0;
}
.spotlights.about > section > .content > .inner{
  max-width:74ch; line-height:1.72;
}
@media (max-width:980px){
  .spotlights.about > section{ display:block; min-height:0; }
  .spotlights.about > section > .image{
    width:100%;
    height:clamp(220px,42vh,380px);
    margin:0 0 clamp(18px,3vw,28px) 0;
  }
  .spotlights.about > section > .content{ padding:0; }
}

/* ===== 8) CARTES / GRILLES ===== */
.value-inner{ max-width:var(--container); margin:0 auto; }
.value-header{ text-align:left; margin-bottom:1.3rem; }
.value-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr)); /* minmax(0,1fr) = anti-overflow */
  gap:var(--gap);
}
.card{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:calc(var(--pad) * .9); box-shadow:var(--shadow-1);
  transition:transform .12s ease, box-shadow .2s ease;
  min-width:0;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 30px rgba(37,99,235,.15), 0 4px 12px rgba(0,0,0,.25);
}
.card-head{
  display:grid; grid-template-columns:auto 1fr; align-items:center;
  gap:.8rem; margin-bottom:.6rem;
}
.icon-badge{
  width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
  background:radial-gradient(60% 60% at 30% 20%, rgba(59,130,246,.45), rgba(59,130,246,.15));
  border:1px solid rgba(96,165,250,.35); color:#e5edff;
}
#value .card h3{ font-size:1.2rem; letter-spacing:.005em; }
#value .card p{ color:var(--muted); }
.value-cta{ margin-top:var(--gap); display:flex; gap:.75rem; flex-wrap:wrap; }
@media (max-width:1080px){ .value-grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
@media (max-width:680px){ .value-grid{ grid-template-columns:minmax(0,1fr); } }

/* ===== 9) BOXES ===== */
.box{
  background:var(--panel); border:1px solid var(--border); border-radius:var(--radius);
  padding:calc(var(--pad) * .95); box-shadow:var(--shadow-1);
  min-width:0;
}
.box + .box{ margin-top:var(--gap); }
.box header h3{ margin:0 0 .25rem; }
.box header p{ margin:0 0 .6rem; color:var(--muted); }

/* ===== 10) CONTACT =====
   Grille 2 colonnes robuste (minmax + min-width:0). Palier tablette + mobile.
*/
#contact .split{
  --contact-form-max: 720px;
  display: grid;
  grid-template-columns: minmax(0, var(--contact-form-max)) minmax(0, 1fr);
  align-items: start;
  gap: clamp(20px, 3vw, 40px);
}
#contact .split > section{ min-width:0; } /* évite qu’un input “pousse” la colonne */

#contact .fields{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  column-gap: clamp(14px, 1.8vw, 18px);
  row-gap: clamp(12px, 1.4vw, 16px);
}
#contact .field{ display:grid; gap:.4rem; min-width:0; }
#contact .field:nth-child(3){ grid-column: 1 / -1; } /* Message sur 2 colonnes */

label{ font-weight:600; color:var(--text-dim); }
input[type="text"], input[type="email"], textarea{
  width:100%; border-radius:12px; border:1px solid var(--border);
  background:rgba(255,255,255,.03); color:var(--text); padding:.9rem 1rem;
  transition:border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
textarea{ resize:vertical; min-height:140px; }
input:focus-visible, textarea:focus-visible{
  border-color:rgba(96,165,250,.8); box-shadow:var(--focus-ring); background:rgba(255,255,255,.05);
  outline:0;
}
.actions{ list-style:none; padding:0; margin:.6rem 0 0; display:flex; gap:.75rem; }
.actions li{ margin:0; }

/* Bouton du formulaire : compact comme les CTA */
#contact .actions .button{
  min-height:42px; padding:0 .85rem; font-size:.92rem; border-radius:10px;
}

/* Palier tablette : form un peu plus étroit pour libérer la 2e colonne */
@media (max-width:1180px){
  #contact .split{ --contact-form-max: 640px; gap:24px; }
}

/* Palier mobile : empilement */
@media (max-width:980px){
  #contact .split{ grid-template-columns:1fr; }
  #contact .fields{ grid-template-columns:1fr; }
  #contact .field:nth-child(3){ grid-column:auto; } /* Message sur 1 colonne */
}

/* ===== 11) TABLES ===== */
table{
  width:100%; border-collapse:collapse; background:var(--panel);
  border:1px solid var(--border); border-radius:var(--radius); overflow:hidden;
}
thead th{ text-align:left; padding:.8rem 1rem; background:rgba(59,130,246,.15); }
tbody td{ padding:.75rem 1rem; border-top:1px solid var(--border); }

/* ===== 12) FOOTER ===== */
#footer{ padding:calc(var(--section-y) * .8) var(--pad); }
#footer .inner{
  max-width:var(--container); margin:0 auto;
  display:flex; justify-content:center; align-items:center; min-width:0;
}
#footer .menu{ list-style:none; padding:0; margin:0; display:flex; gap:.9rem; flex-wrap:wrap; color:var(--muted); }
#footer .menu a{ color:#c7d2fe; }

/* ===== 13) UTILITAIRES ===== */
.text-center{ text-align:center; }
.mt-0{ margin-top:0; } .mb-0{ margin-bottom:0; }
.mt-1{ margin-top:.5rem; } .mb-1{ margin-bottom:.5rem; }
.mt-2{ margin-top:1rem; } .mb-2{ margin-bottom:1rem; }

/* ===== 14) ANIMATIONS ===== */
.fade-up{ opacity:0; transform:translateY(8px); animation:fadeUp .7s ease forwards; }
@keyframes fadeUp{ to{ opacity:1; transform:translateY(0); } }
@media (prefers-reduced-motion:reduce){
  .fade-up{ animation:none; opacity:1; transform:none; }
  *{ scroll-behavior:auto !important; }
}

/* ===== 15) ACCESSIBILITÉ ===== */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:fixed; left:12px; top:12px; width:auto; height:auto; clip:auto;
  padding:.5rem .75rem; background:#111827; color:#fff; border-radius:8px; box-shadow:var(--focus-ring); z-index:99;
}
/* Ancrage confortable pour #id sous un header/topbar */
:is(section,h1,h2,h3,h4)[id]{ scroll-margin-top: clamp(64px, 10vh, 120px); }

/* ===== 16) RESPONSIVE CONTAINER ===== */
@media (max-width:1240px){ :root{ --container:1060px; } }
@media (max-width:1120px){ :root{ --container:980px; } }
@media (max-width:980px) { :root{ --container:900px; } }
@media (max-width:860px) { :root{ --container:760px; } }
@media (max-width:720px){ :root{ --container:640px; } }

/* ===== 17) MENU MOBILE — topbar fluide, non-sticky =====
   On neutralise toute chance de rester “figé” (fixed).
*/
@media (max-width:1079px){
  #sidebar{
    display:block;
    position: relative !important;  /* défile avec la page */
    top: auto !important;
    left: auto !important;
    width:100%; height:auto;
    padding:10px var(--pad);
    background:rgba(2,6,23,.6);
    border-right:none; border-bottom:1px solid var(--border);
    backdrop-filter:blur(8px);
  }
  #sidebar .inner{ height:auto; align-items:center; }
  #sidebar nav ul{
    display:flex; flex-wrap:wrap;           /* retour à la ligne si besoin */
    gap:.5rem .6rem; margin:0; padding:0; list-style:none;
  }
  #sidebar nav li{ flex:0 0 auto; }
  #sidebar nav a{
    display:block; font-size:0.95rem;
    padding:.55rem .7rem; border-radius:10px;
    color:var(--text); opacity:.95; white-space:nowrap;
    background:transparent; border:1px solid transparent;
  }
  #sidebar nav a:hover{ background:rgba(255,255,255,.06); opacity:1; }
  #sidebar nav a.active::after{ display:none; content:none; } /* pastille desktop off */
}
@media (max-width:520px){
  #sidebar nav a{ font-size:0.9rem; padding:.5rem .6rem; }
  #sidebar nav ul{ gap:.45rem .5rem; }
}

/* ===== 18) CTA DU HERO — compacts + variante ===== */
/* Patch local au hero (évite d’impacter le reste) */
.hero-actions{ gap:.6rem; }
.hero-actions .button{
  min-height:46px;         /* avant 50px */
  padding:0 .95rem;        /* avant 0 1.15rem */
  font-size:0.95rem;       /* avant ~1rem */
  border-radius:12px;      /* avant 14px */
}
/* Rend .cta-lg plus sage dans le hero */
.hero-actions .cta-lg{ font-size:0.94rem; }
/* Très petits écrans : compresser un peu plus */
@media (max-width:520px){
  .hero-actions .button{
    min-height:42px; padding:0 .8rem; font-size:0.92rem; border-radius:10px;
  }
  .hero-actions{ gap:.5rem; }
}
/* Variante générique réutilisable (appliquez .button--sm sur l’élément) */
.button--sm{
  min-height:42px;
  padding:0 .85rem;
  font-size:0.92rem;
  border-radius:12px;
}
